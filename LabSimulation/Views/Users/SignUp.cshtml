@model LabSimulation.Models.User

@{
Layout = null;
}

<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>SignUp</title>
    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Favicon -->
    <link href="~/Content/Site/img/flask-png.png" rel="shortcut icon" />

    <!-- Font-->

    <link href="~/Content/SignUp/css/opensans-font.css" rel="stylesheet" />
    <link href="~/Content/SignUp/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css"
          rel="stylesheet" />
    <!-- Main Style Css -->

    <link href="~/Content/SignUp/css/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/SignUp/css/style.css" rel="stylesheet" />
    <link href="~/Content/SignUp/css/styleButtons.css" rel="stylesheet" />

    <link href="~/Content/SignUp/css/PriceTable.css" rel="stylesheet" />

    <link href="~/Content/Particles/styleParticles.css" rel="stylesheet" />

    <link href="~/Content/SignUp/css/styleHeader.css" rel="stylesheet" />


    <link href="~/Content/SweetAlert/sweetalert2.min.css" rel="stylesheet" />


    <link href="~/Content/Preloder/preloder.css" rel="stylesheet" />
</head>

<body>

    <section class="position-absolute d-flex justify-content-center align-content-center container-login">

        <div class="page-content">

            <div class="form-v1-content">


                <div class="wizard-form">
                    <div class="login100-form-title"
                         style="background-image: url(/Content/SignUp/images/Untitled-1.jpg);">
                        <span class="login100-form-title-1">
                            Sign Up
                        </span>
                    </div>

                    @using (Html.BeginForm("SignUp", "Users", FormMethod.Post, new { @class = "form-register" }))
                    {
                        @Html.AntiForgeryToken()

                        <div id="form-total">




                            <!-- SECTION 1 -->

                            <h2>
                                <p class="step-icon"> <span>01</span> </p>
                                <span class="step-text">Member Register Type</span>
                            </h2>

                            <section>
                                <div class="inner">
                                    <div class="wizard-header">
                                        <h3 class="heading"> Member Register Type </h3>
                                        <p>
                                            Please choose your member register type and proceed to the next step so we can
                                            build your account.
                                        </p>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-holder form-holder-2">
                                            <input type="radio" class="radio" name="UserTypeID" id="plan-2" value="2"
                                                   onclick="showSchool()">
                                            <label class="plan-icon plan-2-label" for="plan-2">
                                                <img src="~/Content/SignUp/images/school.png" alt="School" title="School" />
                                            </label>
                                            <div class="plan-total">
                                                <span class="plan-title">School account</span>
                                                <p class="plan-text">
                                                    Pellentesque nec nam aliquam sem et volutpat consequat
                                                    mauris nunc congue nisi.
                                                </p>
                                            </div>

                                            <input type="radio" class="radio" name="UserTypeID" id="plan-1" value="1"
                                                   onclick="showPerson()" checked>
                                            <label class="plan-icon plan-1-label" for="plan-1">
                                                <img src="~/Content/SignUp/images/Person-icon.png" alt="Person"
                                                     title="Person" />
                                            </label>
                                            <div class="plan-total">
                                                <span class="plan-title">Person account</span>
                                                <p class="plan-text">
                                                    Pellentesque nec nam aliquam sem et volutpat consequat
                                                    mauris nunc congue nisi.
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </section>

                            <!-- SECTION 2 -->
                            <h2>
                                <p class="step-icon"><span>02</span></p>
                                <span class="step-text">Account Pricing Plan</span>
                            </h2>
                            <section>
                                <div class="inner" id="PricePlan">
                                    <div class="wizard-header">
                                        <h3 class="heading">Person Pricing Plan</h3>
                                        <p>
                                            Please select your pricing plan and proceed to the next step so we can build
                                            your
                                            account.
                                        </p>
                                    </div>
                                    <div class="form-row">
                                        <div class="columns">
                                            <ul class="price">
                                                <li class="header">Basic</li>
                                                <li class="grey"> Free </li>
                                                <li class="pragraphe">Limited experiences</li>

                                                <li class="grey">
                                                    <div class="radio-toolbar">
                                                        <input type="radio" id="SelectFree" name="IsPremiumAccount" checked
                                                               value="False">
                                                        <label for="SelectFree">Select</label>
                                                    </div>

                                                </li>
                                            </ul>
                                        </div>

                                        <div class="columns">
                                            <ul class="price">
                                                <li class="header">Premium</li>
                                                <li class="grey"> 99 L.E </li>
                                                <li class="pragraphe">Unlimited experiences</li>
                                                <li class="grey">
                                                    <div class="radio-toolbar">
                                                        <input type="radio" id="SelectPremium" name="IsPremiumAccount"
                                                               value="True" onclick="PersonPremium()">
                                                        <label for="SelectPremium">Select</label>
                                                    </div>

                                                </li>
                                            </ul>

                                        </div>
                                    </div>



                                </div>

                            </section>


                            <!-- SECTION 3 -->
                            <h2>
                                <p class="step-icon"> <span>03</span></p>
                                <span class="step-text">Peronal Infomation</span>
                            </h2>
                            <section>
                                <div class="inner">
                                    <div class="wizard-header">
                                        <h3 class="heading">Peronal Infomation</h3>
                                        <p>
                                            Please enter your infomation and proceed to the next step so we can build your
                                            accounts.
                                        </p>
                                    </div>


                                    <div class="form-row">
                                        <div class="form-holder">
                                            <fieldset>
                                                <legend>First Name</legend>
                                                <input type="text" name="FirstName" id="FirstName" class="form-control"
                                                       placeholder="Your First Name" onblur="CheckFristName()" autocomplete="off" />
                                            </fieldset>
                                            @Html.ValidationMessageFor(model => model.FirstName, "", new
                                            {
                                                @class =
                                            "text-danger StatusFristName"
                                            })

                                        </div>
                                        <div class="form-holder">
                                            <fieldset>
                                                <legend>Last Name</legend>
                                                <input class="form-control" type="text" name="LastName" id="LastName"
                                                       onblur="CheckLastName()" placeholder="Your Last Name"
                                                       autocomplete="off" />

                                            </fieldset>
                                            @Html.ValidationMessageFor(model => model.LastName, "", new
                                            {
                                                @class =
                                            "text-danger StatusLastName"
                                            })
                                        </div>
                                    </div>


                                    <div class="form-row d-none" id="SchoolSection"></div>


                                    <div class="form-row">
                                        <div class="form-holder form-holder-2">
                                            <fieldset>
                                                <legend>Your Email</legend>
                                                <input class="form-control" type="text" name="Email" id="Email" onchange="CheckUserEmailIsAvailable()" onblur="CheckEmail()"
                                                       placeholder="Your Email"
                                                       autocomplete="off" />

                                            </fieldset>
                                            @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger StatusEmail" })
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-holder form-holder-2">
                                            <fieldset>
                                                <legend>User Name</legend>
                                                <input class="form-control" type="text" name="UserName" id="UserName"
                                                       placeholder="Your User Name" autocomplete="off" onchange="CheckUserNameIsAvailable()" onblur="CheckUserName()" />

                                            </fieldset>
                                            @Html.ValidationMessageFor(model => model.UserName, "", new
                                            {
                                                @class =
                                            "text-danger StatusUserName"
                                            })

                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-holder form-holder-2">
                                            <fieldset>
                                                <legend>Password</legend>
                                                <input class="form-control" type="password" name="Password" id="Password" onblur="CheckPassword()" onkeyup="CheckPassword()"
                                                       placeholder="Your password" autocomplete="off" />
                                            </fieldset>
                                            @Html.ValidationMessageFor(model => model.Password, "", new
                                            {
                                                @class =
                                            "text-danger StatusPassword"
                                            })

                                        </div>
                                    </div>
                                    <div class="form-group d-flex justify-content-end position-absolute"
                                         style="bottom:18px; right:50px;">
                                        <a class="r-btn btnSubmit"><i class="zmdi zmdi-check text-white"></i></a>
                                    </div>
                                </div>
                            </section>


                        </div>
                    }
                </div>
            </div>

        </div>

    </section>

    <div id="particles-js"></div>

    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Content/Preloder/preloder.js"></script>


    <script src="~/Content/SignUp/js/jquery.steps.js"></script>
    <script src="~/Content/SignUp/js/main.js"></script>

    <script src="~/Content/Particles/particles.min.js"></script>
    <script src="~/Content/Particles/app.js"></script>

    <script src="~/Content/SignUp/js/ReplaceContent.js"></script>


    <script>
        function PersonPremium() {
            MyWindow = window.open('https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=L4HRB7VA6GLH2', 'MyWindow', 'width=650,height=650');
            return false;
        }
        function SchoolPremium() {
            MyWindow = window.open('https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=HA54YKSCLUK6C', 'MyWindow', 'width=650,height=650');
            return false;
        }

    </script>
    <script>


        function CheckFristName() {
            var fristName = $("#FirstName");

            if (fristName.val() == "") {
                $("#FirstName").focus();
                $(".StatusFristName").html(' First Name is Required ');
                return false;
            } else if (fristName.val().length < 3 || fristName.val().length > 25) {
                $("#FirstName").focus();
                $(".StatusFristName").html(' Must be between 3 to 25 characters ');
                return false;
            } else if (!fristName.val().match("^[A-Z]+[a-zA-Z'\s]*$")) {
                $("#FirstName").focus();
                $(".StatusFristName").html(' Characters only, start capital letter ');
                return false;
            } else {
                $(".StatusFristName").html('');

                return true;
            }
        }


        function CheckLastName() {
            var lastName = $("#LastName");

            if (lastName.val() == '') {
                $("#LastName").focus();
                $(".StatusLastName").html(' Last Name is Required ');
                return false;

            } else if (lastName.val().length < 3 || lastName.val().length > 25) {
                $("#LastName").focus();
                $(".StatusLastName").html(' Must be between 3 to 25 characters ');
                return false;
            } else if (!lastName.val().match("^[A-Z]+[a-zA-Z'\s]*$")) {
                $("#LastName").focus();
                $(".StatusLastName").html(' Characters only, start capital letter ');
                return false;
            } else {
                $(".StatusLastName").html('');
                return true;
            }
        }


        function CheckSchoolName() {

            var schoolSection = $("#SchoolSection");

            if (schoolSection.hasClass("d-block")) {
                var schoolName = $("#SchoolName");

                if (schoolName.val() == '') {
                    $("#SchoolName").focus();
                    $(".StatusSchoolName").html(' School Name is Required ');
                    return false;

                } else if (schoolName.val().length < 5 || schoolName.val().length > 100) {
                    $("#SchoolName").focus();
                    $(".StatusSchoolName").html(' Must be between 5 to 100 characters ');
                    return false;
                } else {
                    $(".StatusSchoolName").html('');
                    return true;
                }
            }
            else {
                return true;
            }
        }


        function CheckEmail() {
            var userEmail = $("#Email");

            if (userEmail.val() == '') {
                $("#Email").focus();
                $(".StatusEmail").html(' Email is Required ');
                return false;
            }
            else if (!userEmail.val().toLowerCase().match("[a-zA-Z0-9._-]+@@[a-zA-Z]+.com")) {
                $("#Email").focus();
                $(".StatusEmail").html(' Invalid Email Address ');
                return false;
            }
            else {
                $(".StatusEmail").html('');
                return true;
            }
        }


        var isEmailExist = true;

        function CheckUserEmailIsAvailable() {

            $.post("@Url.Action("CheckIsEmailAvailable", "Users")",
                {
                    userEmail: $("#Email").val()
                },

                function (data) {

                    if (data == 0) {
                        isEmailExist = true;
                    }
                    else {

                        $("#Email").focus();
                        $(".StatusEmail").html(' That Email is taken. Try Another. ');
                        isEmailExist = false;
                    }
                });

            return isEmailExist;
        }

        function CheckUserName() {
            var userName = $("#UserName");

            if (userName.val() == '') {
                $("#UserName").focus();
                $(".StatusUserName").html(' User Name is Required ');
                return false;
            }
            else if (userName.val().length < 3 || userName.val().length > 30) {
                $("#UserName").focus();
                $(".StatusUserName").html(' Must be between 3 to 30 characters ');
                return false;
            }
            else {
                $(".StatusUserName").html('');
                return true;
            }
        }

        var isUserNameExist = true;

        function CheckUserNameIsAvailable() {

            $.post("@Url.Action("CheckIsUseNameAvailable", "Users")",
                {
                    UserName: $("#UserName").val()
                },

                function (data) {

                    if (data == 0) {
                        isUserNameExist = true;

                    }
                    else {
                        isUserNameExist = false;
                        $("#UserName").focus();
                        $(".StatusUserName").html(' That User Name is taken. Try Another. ');

                    }
                });

            return isUserNameExist;

        }



        function CheckPassword() {
            var userPassword = $("#Password");
            if (userPassword.val() == '') {
                $("#Password").focus();
                $(".StatusPassword").html(' Password is Required ');
                return false;
            }
            else if (userPassword.val().length < 5 || userPassword.val().length > 38) {
                $("#Password").focus();
                $(".StatusPassword").html('Password week, must be between 5 to 38 characters ');
                return false;
            }
            else if (!(/[A-Z]/.test(userPassword.val())) || !(/[a-z]/.test(userPassword.val()))) {
                $("#Password").focus();
                $(".StatusPassword").html('Password week, must be contain capital letter and small letter ');
                return false;
            }
            else if (!(/[@@!#$%^&*+/._=]/.test(userPassword.val())) || !(/[0-9]/.test(userPassword.val()))) {
                $("#Password").focus();
                $(".StatusPassword").html('Password week, must be contain digit and special character( @@!#$%^&*+/._= ) ');
                return false;
            }
            else {
                $(".StatusPassword").html('');
                return true;
            }

        }

        //function dothis() {
        //    if (CheckFristName() && CheckLastName() && CheckSchoolName()
        //            && CheckEmail() && CheckUserName() && CheckPassword()) {

        //            var _form = $(this).closest("form");
        //            _form.submit();
        //        }
        //}


        $(function () {

            $(".btnSubmit").click(function () {

                if (CheckFristName() && CheckLastName() && CheckSchoolName()
                    && CheckEmail() && CheckUserName() && CheckPassword() && CheckUserEmailIsAvailable() && CheckUserNameIsAvailable()) {


                    Swal.fire({
                        icon: 'success',
                        title: 'The registration has been done successfully',
                        showConfirmButton: false,
                        timer: 4000
                    })

                    var _form = $(this).closest("form");
                    _form.submit();
                }

            });

        });




    </script>

    <script src="~/Content/SweetAlert/sweetalert2.all.min.js"></script>


</body>

</html>